% Sets

\newcommand{\union}{\cup}
\newcommand{\intersection}{\cap}
\newcommand{\set}[1]{\mathcal #1}
\newcommand{\setcomplement}[1]{#1^{\mathrm{c}}}
\newcommand{\eucledian}{\mathbb E}
\newcommand{\reals}{\mathbb R}
\newcommand{\ball}{\mathbb B}
\newcommand{\nat}{{\mbox{\bf N}}}
\newcommand{\integers}{\mathbb Z}
\newcommand{\binary}{\mathbb I}
\newcommand{\symm}{\mathbb S}  % symmetric matrices
\newcommand{\Co}{\mathrm{co}}
\newcommand{\dom}{\mathrm{dom}}
\newcommand{\epi}{\mathrm{epi}}
\newcommand{\hypo}{\mathrm{hypo}}
\newcommand{\interior}[1]{\mathrm{int}(#1)}
\newcommand{\boundary}[1]{\mathrm{bdry}\left(#1\right)}
\newcommand{\relint}{\mathrm{relint}}
\newcommand{\coni}[1]{\mathrm{coni}(#1)}

% Calculus

\newcommand{\grad}{\nabla}

% Convex analysis

\newcommand{\subdiff}[1][none]{%
  \ifthenelse{\equal{#1}{none}}{%
    \partial%
  }{%
    \partial_{#1}%
  }%
}
\newcommand{\normalcone}[1]{\set{N}_{\set{#1}}}
\newcommand{\indicator}[1]{\delta_{\set{#1}}}

% Functions

\newcommand{\heaviside}{\sigma}

% Linear Algebra

\newcommand{\nul}{\mathrm{null}}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\range}{\mathrm{range}}
\newcommand{\diag}[1]{\mathrm{diag}(#1)}
\newcommand{\spec}{\mathrm{spec}}

% Generic math

\newcommand{\C}[1]{\mathcal C^{#1}}
\newcommand{\inv}{{-1}}
\newcommand{\sign}{\mathrm{sgn}}
\newcommand{\seq}[1]{\{#1\}}
\newcommand{\sgn}{\mbox{\textrm{sgn}}}
\newcommand{\Proj}[1]{\mathop{\text{Proj}_{#1}}}
\newcommand{\Pre}{\mathop\text{Pre}}
\newcommand{\PP}{$\mathcal{P}$\xspace}
\newcommand{\NP}{$\mathcal{NP}$\xspace}
\newcommand{\NPhard}{$\mathcal{NP}$-hard\xspace}
\newcommand{\NPcomplete}{$\mathcal{NP}$-complete\xspace}
\newcommand{\transp}{{\scriptscriptstyle\mathsf{T}}}
\newcommand{\innerproduct}[2]{\langle#1,#2\rangle}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\fromabove}{\downarrow}
\newcommand{\frombelow}{\uparrow}
\newcommand{\fun}[2][1]{%
  #2(%
  \foreach \index in {1, ..., #1} {%
    \ifthenelse{\equal{\index}{#1}}{%
      \cdot%
    }{%
      \cdot,%
    }%
  })}
\newcommand{\define}[1]{\textit{#1}}
\newcommand{\definedas}{\overset{\triangle}{=}}

% Operators

\newcommand{\find}{\mathrm{find}}

% Measure theory

\newcommand{\alev}[1]{\textnormal{a.e. }#1}
\newcommand{\ev}[3][c]{%
  \ifthenelse{\equal{#1}{c}}{%
    \ifthenelse{\equal{#2}{}}{\forall[0,#3]}{\forall[#2,#3]}%
  }{%
    \ifthenelse{\equal{#1}{o}}{%
      \ifthenelse{\equal{#2}{}}{\forall(0,#3)}{\forall(#2,#3)}%
    }{%
      \ifthenelse{\equal{#1}{oc}}{%
        \ifthenelse{\equal{#2}{}}{\forall(0,#3]}{\forall(#2,#3]}%
      }{%
        \ifthenelse{\equal{#2}{}}{\forall[0,#3)}{\forall[#2,#3)}%
      }%
    }%
  }%
}

% Optimization

\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\minimize}{\mathrm{minimize}}
\DeclareMathOperator*{\maximize}{\mathrm{maximize}}

\newcommand{\optimal}[1]{#1^*}

\newcounter{l}
\newcounter{j}
\newcounter{k}

\newcommand{\lloptimization}[4]{
  \setsepchar{\\}%
  \readlist\mylist{#4}
  \begin{subequations}
    \ifthenelse{\equal{#1}{}}{}{\label{eq:#1}}
    \begin{align}
      \ifthenelse{\equal{#1}{}}{}{\label{eq:#1_a}}
      \minimize_{\ifthenelse{\equal{#2}{}}{}{#2}}~& #3 \\
      \mathrm{subject~to:~}
      \forloop{k}{0}{\arabic{k} < \listlen\mylist[]}{
      \setcounter{j}{\value{k}+1}
      \setcounter{l}{\value{k}+2}
      \ifthenelse{\equal{#1}{}}{}{\label{eq:#1_\alph{l}}}
      \ifthenelse{\equal{\arabic{j}}{\listlen\mylist[]}}{%
                                                  &\mylist[\arabic{j}]%
                                                    }{%
                                                  &\mylist[\arabic{j}]\\%
      }%
      }
    \end{align}
  \end{subequations}
}

\newcommand{\llpoptimization}[5]{
  \begin{problem}\ifthenelse{\equal{#1}{NoNe}}{}{\textbf{#1.}}%
    \ifthenelse{\equal{#2}{}}{}{\label{problem:#2}}%
    \lloptimization{#2}{#3}{#4}{#5}%
  \end{problem}%
}

\NewEnviron{optimization}[3]{\lloptimization{#1}{#2}{#3}{\BODY}}
\NewEnviron{foptimization}[4][NoNe]{%
  \begin{mdframed}[default,linewidth=1pt]%
    \llpoptimization{#1}{#2}{#3}{#4}{\BODY}%
  \end{mdframed}%
}
\NewEnviron{poptimization}[4][NoNe]{%
  \llpoptimization{#1}{#2}{#3}{#4}{\BODY}%
}

% Editing

\definecolor{darkolivegreen}{rgb}{0.33, 0.6, 0.18}

\newcommand{\seecode}{\textit{For code, see Appendix~\ref{sec:code}}.}
\newcommand{\postmeeting}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{orange} #2}%
  }{}%
}
\newcommand{\idea}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{orange} #2}%
  }{}%
}
\newcommand{\todo}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{blue} (TODO: #2)}%
  }{}%
}
\newcommand{\question}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{darkolivegreen} (Q: #2)}%
  }{}%
}
\newcommand{\fixme}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{red} (FIXME: #2)}%
  }{}%
}
\newcommand{\mycomment}[2][show]{%
  \ifthenelse{\equal{#1}{show}}{%
    {\color{red} (C: #2)}%
  }{}%
}

% Miscellaneous

\newcommand{\Behcet}{Beh\c{c}et\xspace}
\newcommand{\Acikmese}{A\c{c}{\i}kme\c{s}e\xspace}
